%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Theory}
\label{sec:theory}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{algorithm}
\caption{GenerateDesired$x$-spacing($s_1,s_2,e_1,e_2,L$)}\label{alg:XControl}
\begin{algorithmic}[1]
\Require Knowledge of starting $(s_1,s_2)$ and ending $(e_1,e_2)$ positions of  two robots. 
$(0,0)$ is bottom corner, $s_1$ is topmost robot, 
 $L$ is length of the walls. Current position of the robots are $(r_1,r_2)$.
\Ensure   $ r_{1y} - r_{2y}  \equiv s_{1y} - s_{2y} $   %$\Delta y(t) \equiv \Delta y(0)$ 
\State $ \Delta s_x  \gets s_{1x} - s_{2x} $
\State $ \Delta e_x \gets e_{1x} - e_{2x} $
\State $ r_1 \gets s_1$, $ r_2 \gets s_2$
\If {$\Delta e_x < 0 $ }
\State $ m \gets ( L-\max( r_{1x},r_{2x}) ,0)   $ \Comment{Move to right wall}
\Else 
\State  $ m \gets ( -\min( r_{1x},r_{2x},0 )    $ \Comment{Move to left wall}
\EndIf
\State $m  \gets  m + (0, -\min( r_{1y},r_{2y} ))$ \Comment{Move to bottom}
\State $ r_1 \gets r_1+m$, $ r_2 \gets r_2+m$ \Comment{Apply move}
\If {$\Delta e_x - (r_{1x} - r_{2x} ) > 0 $}
\State $ m \gets (min(\|\Delta e_x - \Delta s_x \|, L- r_{1x}), 0)$  \Comment{Move right}
\Else
\State $ m \gets (-min(\|\Delta e_x - \Delta s_x \|, r_{1x}), 0)$\Comment{Move left}
\EndIf 
\State $m  \gets  m + (0, \epsilon)$ \Comment{Move up}
\State $ r_1 \gets r_1+m$, $ r_2 \gets r_2+m$ \Comment{Apply move}
\State $\Delta r_x = r_{1x} - r_{2x}$
\If {$\Delta r_x \equiv \Delta e_x$} 
\State   $ m \gets (e_{1x}-r_{1x}, e_{1y}-r_{1y})$
\State $ r_1 \gets r_1+m$, $ r_2 \gets r_2+m$ \Comment{Apply move}
\State  \Return $(r_1,r_2)$
\Else   
\State \Return GenerateDesired$x$-spacing($r_1,r_2,e_1,e_2,L$)
\EndIf
\end{algorithmic}
\end{algorithm}

\begin{algorithm}
\caption{Getting desired Y-space}\label{alg:YControl}
\begin{algorithmic}[1]
\Require Knowledge of the starting and ending positions  of the two robots $s_1$ (right robot) \& $s_2$ (left robot)  \& $e_1$  \& $e_2$  and $L$ length of the walls. Current position of the robot will be showed as $r$.
\Ensure $\Delta x(t) = \Delta x(0)$ 
\State $e_{1y} - e_{2y} = \Delta e_y$
\State $s_{1y} - s_{2y} = \Delta s_y$
\If {$\Delta e < 0 $ }
\State Move almost to up wall
\Else \\Move almost to down wall
\EndIf
\State Move to right
\If {$\Delta e_y - \Delta s_y > 0 $}
\State Update current position of the robots: $r_1$ , $r_2$
\State Go right for $min(\|\Delta e_y - \Delta s_y \|, L- r_{1y})$
\Else \\Go left for $-min(\|\Delta e - \Delta s_y \|, r_{1y})$
\EndIf 
\State Move $\epsilon$ left
\State Update current position of the robots: $r_1$ , $r_2$
\State $\Delta r_y = r_{1y} - r_{2y}$
\If {$\Delta r_y = \Delta e_y$}
\State Go to $e_1$, $e_2$
\State Return
\Else \\Do the algorithm again with the inputs of $r_1$, $r_2$, $e_1$, $e_2$
\EndIf
\end{algorithmic}
\end{algorithm}

\begin{algorithm}
\caption{Getting desired Space}\label{alg:PosControl}
\begin{algorithmic}[1]
\Require Knowledge of the starting and ending positions  of the two robots $s_1$  \& $s_2$  \& $e_1$  \& $e_2$  and $L$ length of the walls. Current position of the robot will be showed as $r$.
\State $e_{1x} - e_{2x} = \Delta e_x$
\State $e_{1y} - e_{2y} = \Delta e_y$
\State $s_{1x} - s_{2x} = \Delta s_x$
\State $s_{1y} - s_{2y} = \Delta s_y$
\If {$\Delta s_x < \Delta s_y$}
\State Do XSpace
\State Do YSpace
\Else
\State Do YSpace
\State Do XSpace
\EndIf

\end{algorithmic}
\end{algorithm}


\begin{figure}
\centering
\begin{overpic}[width = \columnwidth]{Covariance.png}\end{overpic}
\vspace{-1em}
\caption{\label{fig:covFriction} We can control covariance of the swarm by using friction.
}\vspace{-1em}
\end{figure}



%what images should I show here?
%hysteresis control law, \cite{sadra2014}










